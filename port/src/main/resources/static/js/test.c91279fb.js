"use strict";(self["webpackChunkfront"]=self["webpackChunkfront"]||[]).push([[43],{7526:function(e,t,o){o.r(t),o.d(t,{default:function(){return z}});var n=o(6252),l=o(3577),u=o(9963);const r=e=>((0,n.dD)("data-v-36f66c70"),e=e(),(0,n.Cn)(),e),s=r((()=>(0,n._)("h1",null,"테스트 페이지",-1))),a=r((()=>(0,n._)("br",null,null,-1))),i=r((()=>(0,n._)("br",null,null,-1))),c=r((()=>(0,n._)("br",null,null,-1))),d=r((()=>(0,n._)("br",null,null,-1))),m=r((()=>(0,n._)("br",null,null,-1))),h=r((()=>(0,n._)("br",null,null,-1))),k=r((()=>(0,n._)("br",null,null,-1))),f=r((()=>(0,n._)("br",null,null,-1))),g=r((()=>(0,n._)("br",null,null,-1))),p=r((()=>(0,n._)("br",null,null,-1))),b=r((()=>(0,n._)("br",null,null,-1))),U=r((()=>(0,n._)("br",null,null,-1))),_=r((()=>(0,n._)("br",null,null,-1))),v=r((()=>(0,n._)("button",{type:"submit"},"채팅방 생성",-1))),w=r((()=>(0,n._)("button",{type:"submit"},"채팅 입력",-1)));function y(e,t,o,r,y,T){const C=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)("div",null,[s,(0,n.Wm)(C,{to:"/"},{default:(0,n.w5)((()=>[(0,n.Uk)("Home")])),_:1}),(0,n.Uk)(" | UserName | "),a,(0,n.Uk)(" "+(0,l.zw)(r.userName)+" ",1),i,(0,n.Uk)(" | UserInfo | "),c,(0,n.Uk)(" "+(0,l.zw)(r.userInfo)+" ",1),d,(0,n.Uk)(" | Router Token | "),m,(0,n.Uk)(" "+(0,l.zw)(e.$route.query.token)+" ",1),h,(0,n.Uk)(" | Store Token | "),k,(0,n.Uk)(" "+(0,l.zw)(r.jwtToken)+" ",1),f,(0,n.Uk)(" | Data Token | "),g,(0,n.Uk)(" "+(0,l.zw)(e.thisToken)+" ",1),p,(0,n._)("button",{onClick:t[0]||(t[0]=(...e)=>r.changeName&&r.changeName(...e))},"Change UserName"),b,(0,n._)("button",{onClick:t[1]||(t[1]=(...e)=>r.loadUser&&r.loadUser(...e))},"Get UserName"),U,(0,n._)("button",{onClick:t[2]||(t[2]=(...e)=>r.setToken&&r.setToken(...e))},"Set Data Token"),_,(0,n._)("form",{onSubmit:t[4]||(t[4]=(0,u.iM)((e=>T.createRoom()),["prevent"]))},[(0,n.wy)((0,n._)("input",{type:"text",name:"title","onUpdate:modelValue":t[3]||(t[3]=e=>r.title=e),placeholder:"제목 입력",minlength:"1",required:""},null,512),[[u.nr,r.title,void 0,{trim:!0}]]),v],32),(0,n._)("button",{type:"button",onClick:t[5]||(t[5]=(...e)=>T.getRooms&&T.getRooms(...e))},"채팅리스트 불러오기"),(0,n.Uk)(" | Chatrooms | "+(0,l.zw)(r.chatrooms)+" ",1),(0,n._)("form",{onSubmit:t[7]||(t[7]=(0,u.iM)((t=>e.sendMessage()),["prevent"]))},[(0,n.wy)((0,n._)("input",{type:"text",name:"title","onUpdate:modelValue":t[6]||(t[6]=e=>r.title=e),placeholder:"제목 입력",minlength:"1",required:""},null,512),[[u.nr,r.title,void 0,{trim:!0}]]),w],32)])}o(7658);var T=o(2262),C=o(3907),I=o(4206),N=o.n(I),R={setup(){const e=(0,C.oR)(),t=(0,T.iH)(""),o=(0,T.iH)(""),l=(0,T.iH)([]),u=(0,n.Fl)((()=>e.getters["module1/getUserName"])),r=(0,n.Fl)((()=>e.getters["module1/getUserInfo"])),s=(0,n.Fl)((()=>e.getters["module1/getJwtToken"])),a=()=>e.dispatch("module1/changeUserName",u.value),i=()=>e.dispatch("module1/loadUser");function c(){t.value=s}return(0,n.bv)((()=>{i()})),{changeName:a,loadUser:i,userName:u,userInfo:r,jwtToken:s,setToken:c,title:o,chatrooms:l}},mounted(){console.log("this.$route.query.token",this.$route.query.token),this.$store.dispatch("module1/changeJwtToken",this.$route.query.token)},methods:{createRoom:function(){if(console.log("createRoom"),console.log("title : ",this.title),console.log("id : ",this.userInfo.id),null==this.title)return void alert("필수값 누락");if(null==this.userInfo.id)return void alert("로그인 하세요");const e={title:this.title,userid:this.userInfo.id};console.log(e),N().post("/api/chat/room",e).then((function(e){alert("CREATE SUCESS"),this.title="",console.log("생성된 방번호(data) : ",e.data),console.log("data type : ",typeof e.data)})).catch((function(e){console.log(e)}))},getRooms:function(){if(console.log("getRooms"),null==this.userInfo.id)return void alert("로그인 하세요");const e=this.userInfo.id;console.log("userid : ",e),N().get("/api/chat/rooms/"+e).then((function(e){alert("LOAD SUCESS"),console.log("data : ",e.data),console.log("data type : ",typeof e.data),this.chatrooms.value.push(e.data),this.chatrooms=e.data})).catch((function(e){console.log(e)}))}}},S=o(3744);const q=(0,S.Z)(R,[["render",y],["__scopeId","data-v-36f66c70"]]);var z=q}}]);
//# sourceMappingURL=test.c91279fb.js.map